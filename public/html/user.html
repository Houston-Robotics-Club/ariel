<!DOCTYPE html>
<html>
  <head>
    <link href="/css/ariel.css" media="all" rel="stylesheet" />
    <script src="/js/simpleWebRTC.js"></script>
    <script src="/socket.io/socket.io.js"></script>
  </head>
  <body id="user">
      <div class="controls">
        <div id="videoContainer">
          <video id="localVideo"></video>
        </div>
        <button id="led">Toggle LED</button>
        <button id="forward">Forward</button>
        <button id="left">Left</button>
        <button id="right">Right</button>
        <button id="reverse">Reverse</button>
        <button id="stop">Stop</button>
      </div>
      <div id="remotesVideos"></div>
      <script>
        var socket = io();
        socket.emit('newUser');

        var webrtc = new SimpleWebRTC({
          localVideoEl: 'localVideo',
          remoteVideosEl: 'remotesVideos',
          autoRequestMedia: true
        });

        webrtc.on('readyToCall', function () {
          webrtc.joinRoom('Houston Robotics Club: Ariel');
        });

        var ledButton = document.getElementById("led");
        ledButton.addEventListener("click", function() {
          socket.emit('toggleLED');
        });

        var forwardButton = document.getElementById("forward");
        forwardButton.addEventListener("click", function() {
          socket.emit('forward');
        });

        var leftButton = document.getElementById("left");
        leftButton.addEventListener("click", function() {
          socket.emit('left');
        });

        var rightButton = document.getElementById("right");
        rightButton.addEventListener("click", function() {
          socket.emit('right');
        });

        var reverseButton = document.getElementById("reverse");
        reverseButton.addEventListener("click", function() {
          socket.emit('reverse');
        });

        var stopButton = document.getElementById("stop");
        stopButton.addEventListener("click", function() {
          socket.emit('stop');
        });

      </script>
  </body>
</html>
